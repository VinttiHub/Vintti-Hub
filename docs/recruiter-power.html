<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Recruiter Metrics â€¢ Vintti Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fuente Onest -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Onest:wght@400;600;700;800&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="./assets/css/recruiter-power.css" />
</head>
<a
  id="recruiterLabBtn"
  class="recruiter-lab-btn"
  href="https://dashboard.vintti.com/public/dashboard/ca9c80d2-854e-4feb-9a99-5cc6e2519c84?mode=monthly_cr_cw=&recruiter=&recruiter1=&tab=41-wins-%26-losts"
  target="_blank"
  rel="noopener"
  style="display:none"
>
  <span class="lab-emoji">ğŸ§ª</span>
  <span class="lab-text">Recruiter Lab</span>
</a>
<body>
  <main class="metrics-page">
<header class="metrics-header">
  <div class="metrics-title-block">
    <h1 class="metrics-title">Recruiter Performance Dashboard</h1>
    <p class="metrics-subtitle">
      Track wins, losses and conversion rate per HR lead (custom date range + lifetime).
    </p>
  </div>
</header>

<!-- âœ… filtros debajo del tÃ­tulo -->
<section class="metrics-filters" aria-label="Filters">
  <div class="metrics-filter">
    <label for="hrLeadSelect" class="filter-label">Recruiter</label>
    <select id="hrLeadSelect" class="filter-select">
      <option value="">Loading recruiters...</option>
    </select>
  </div>

  <div class="metrics-filter">
    <span class="filter-label">Date range</span>

    <div class="date-range">
      <label class="date-chip">
        <span class="date-chip-label">From</span>
        <input id="rangeStart" type="date" />
      </label>

      <label class="date-chip">
        <span class="date-chip-label">To</span>
        <input id="rangeEnd" type="date" />
      </label>

      <button id="applyRangeBtn" class="apply-range-btn" type="button">
        Apply
      </button>
    </div>

    <div id="rangeError" class="range-error" style="display:none;"></div>
  </div>
</section>
    <section class="metrics-cards" aria-live="polite">
      <article class="metric-card metric-win-month">
        <div class="metric-header">
          <span class="metric-label" id="winRangeLabel">Closed Win Â· Last 30 Days</span>
          <span class="metric-compare" id="winMonthCompare">â€“</span>
        </div>
        <div class="metric-value" id="closedWinMonthValue">â€“</div>
        <p class="metric-caption">
          Opportunities marked as <strong>Closed Win</strong> in the last 30 days.
        </p>
      </article>

      <article class="metric-card metric-lost-month">
        <div class="metric-header">
         <span class="metric-label" id="lostRangeLabel">Closed Lost Â· Last 30 Days</span>
          <span class="metric-compare" id="lostMonthCompare">â€“</span>
        </div>
        <div class="metric-value" id="closedLostMonthValue">â€“</div>
        <p class="metric-caption">
          Opportunities marked as <strong>Closed Lost</strong> in the last 30 days.
        </p>
      </article>

      <article class="metric-card metric-win-total">
        <div class="metric-header">
          <span class="metric-label">Total Closed Win</span>
          <span class="metric-pill metric-pill-win-soft">All time</span>
        </div>
        <div class="metric-value" id="closedWinTotalValue">â€“</div>
        <p class="metric-caption">
          Lifetime <strong>Closed Win</strong> opportunities for this recruiter.
        </p>
      </article>

      <article class="metric-card metric-lost-total">
        <div class="metric-header">
          <span class="metric-label">Total Closed Lost</span>
          <span class="metric-pill metric-pill-lost-soft">All time</span>
        </div>
        <div class="metric-value" id="closedLostTotalValue">â€“</div>
        <p class="metric-caption">
          Lifetime <strong>Closed Lost</strong> opportunities for this recruiter.
        </p>
      </article>

      <article class="metric-card metric-conversion">
        <div class="metric-header">
          <span class="metric-label" id="convRangeLabel">Conversion Â· Last 30 Days</span>
          <span class="metric-pill metric-pill-conv">%</span>
        </div>
        <div class="metric-value" id="conversionRateValue">â€“</div>
        <p class="metric-caption" id="conversionHelper">
          Percentage of <strong>Closed Win</strong> among closed opportunities in the last 30 days.
        </p>
      </article>

      <article class="metric-card metric-conversion-lifetime">
        <div class="metric-header">
          <span class="metric-label">Conversion Â· Lifetime</span>
          <span class="metric-pill metric-pill-conv">%</span>
        </div>
        <div class="metric-value" id="conversionLifetimeValue">â€“</div>
        <p class="metric-caption">
          Lifetime share of <strong>Closed Win</strong> over all closed opportunities.
        </p>
      </article>

      <article class="metric-card metric-close-win-avg">
        <div class="metric-header">
          <span class="metric-label">Average days to close (Win)</span>
          <span class="metric-pill metric-pill-win-soft">Selected range</span>
        </div>
        <div class="metric-value" id="avgCloseWinValue">â€“</div>
        <p class="metric-caption">
          From start date (NDA/sourcing) to <strong>Closed Win</strong> within the selected range.
        </p>
      </article>

      <article class="metric-card metric-close-lost-avg">
        <div class="metric-header">
          <span class="metric-label">Average days to close (Lost)</span>
          <span class="metric-pill metric-pill-lost-soft">Selected range</span>
        </div>
        <div class="metric-value" id="avgCloseLostValue">â€“</div>
        <p class="metric-caption">
          From start date to <strong>Closed Lost</strong> within the selected range.
        </p>
      </article>

      <article class="metric-card metric-batch-open">
        <div class="metric-header">
          <span class="metric-label">Average days to first batch (Open)</span>
          <span class="metric-pill metric-pill-conv">Active opps</span>
        </div>
        <div class="metric-value" id="avgBatchOpenValue">â€“</div>
        <p class="metric-caption">
          Open opportunities starting within the range. <span class="metric-caption-subtle">No data â†’ â€œâ€”â€.</span>
        </p>
      </article>

      <article class="metric-card metric-batch-closed">
        <div class="metric-header">
          <span class="metric-label">Average days to first batch (Closed)</span>
          <span class="metric-pill metric-pill-conv">Closed opps</span>
        </div>
        <div class="metric-value" id="avgBatchClosedValue">â€“</div>
        <p class="metric-caption">
          Closed opportunities where the first batch landed before closing.
        </p>
      </article>

      <article class="metric-card metric-interview-rate">
        <div class="metric-header">
          <span class="metric-label">Interview rate</span>
          <span class="metric-pill metric-pill-conv">Interviewed / Sent</span>
        </div>
        <div class="metric-value" id="interviewRateValue">â€“</div>
        <p class="metric-caption">
          Share of sent candidates that reached interview stages.
        </p>
        <p class="metric-caption metric-caption-subtle" id="interviewRateHelper">(â€” / â€”)</p>
      </article>

      <article class="metric-card metric-hire-rate">
        <div class="metric-header">
          <span class="metric-label">Hire rate</span>
          <span class="metric-pill metric-pill-conv">Hired / Sent</span>
        </div>
        <div class="metric-value" id="hireRateValue">â€“</div>
        <p class="metric-caption">
          Sent candidates that converted into hires in the selected range.
        </p>
        <p class="metric-caption metric-caption-subtle" id="hireRateHelper">(â€” / â€”)</p>
      </article>

      <article class="metric-card metric-churn-range">
        <div class="metric-header">
          <span class="metric-label">Total churn Â· Selected range</span>
          <span class="metric-pill metric-pill-churn">End date based</span>
        </div>
        <div class="metric-value" id="churnRangeCount">â€“</div>
        <p class="metric-caption" id="churnRangeHelper">
          People who left within the selected dates.
        </p>
      </article>

      <article class="metric-card metric-early-churn">
        <div class="metric-header">
          <span class="metric-label">Left within 90 days</span>
          <span class="metric-pill metric-pill-early">Tenure insight</span>
        </div>
        <div class="metric-value metric-value-combo" id="left90Value">
          <span class="metric-number" id="left90Count">â€“</span>
          <span class="metric-percent" id="left90Rate">â€“</span>
        </div>
        <p class="metric-caption">People who left before reaching 90 days.</p>
        <p class="metric-caption" id="left90Helper">Based on â€“ churned hires with a start date.</p>
      </article>
    </section>

    <section class="churn-details" id="churnDetailsSection">
      <div class="churn-details-head">
        <div>
          <h2>Churn details</h2>
          <p>See which hires left, when they started and which opportunity they belonged to.</p>
        </div>
        <p class="churn-details-note">Churn is calculated when a hire end date is recorded.</p>
      </div>
      <div class="churn-details-table-wrapper">
        <table class="churn-table">
          <thead>
            <tr>
              <th>Candidate</th>
              <th>Opportunity</th>
              <th>Started</th>
              <th>Ended</th>
              <th>Tenure</th>
              <th>HR Lead</th>
            </tr>
          </thead>
          <tbody id="churnDetailsTableBody"></tbody>
        </table>
        <div class="churn-details-empty" id="churnDetailsEmpty">
          Select a recruiter to see churn details.
        </div>
      </div>
    </section>

    <section class="meta-footer">
      <p id="periodInfo" class="meta-text"></p>
    </section>
  </main>

  <script src="./assets/js/recruiter-power.js"></script>
</body>
</html>

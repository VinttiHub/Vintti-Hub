<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>My Profile • Vintti Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="./assets/css/profile.css" rel="stylesheet" />
</head>
<body>
  <main class="page">
    <!-- Header + Tabs -->
    <header class="header">
      <h1 class="title">My Profile</h1>
      <nav class="tabs" role="tablist" aria-label="Profile tabs">
        <button class="tab active" data-tab="profile" aria-selected="true">Profile</button>
        <button class="tab" data-tab="timeoff" aria-selected="false">Request Time Off</button>
      </nav>
    </header>

    <!-- Avatar -->
    <section class="avatar-wrap">
      <div class="avatar" id="avatar">
        <img id="avatarImg" alt="User avatar" />
        <span id="avatarInitials" aria-hidden="true"></span>
      </div>
    </section>

    <!-- Panels -->
    <section class="panel active" id="panel-profile" role="tabpanel" aria-labelledby="tab-profile">
      <form id="profileForm" class="form">
        <div class="grid">
          <label class="field">
            <span class="label">Full Name</span>
            <input name="user_name" id="user_name" placeholder="Full Name" />
          </label>

          <label class="field">
            <span class="label">Vintti Email</span>
            <input name="email_vintti" id="email_vintti" type="email" placeholder="name@vintti.com" />
          </label>

          <label class="field">
            <span class="label">Role</span>
            <input name="role" id="role" placeholder="Role" />
          </label>

          <label class="field">
            <span class="label">Emergency Contact</span>
            <input name="emergency_contact" id="emergency_contact" placeholder="+57 300 000 0000 — Contact Name" />
          </label>

          <label class="field">
            <span class="label">Vintti Start Date</span>
            <input name="ingreso_vintti_date" id="ingreso_vintti_date" type="date" />
          </label>

          <label class="field">
            <span class="label">Date of Birth</span>
            <input name="fecha_nacimiento" id="fecha_nacimiento" type="date" />
          </label>
        </div>

        <div class="actions">
          <button type="submit" class="btn primary">Save Changes</button>
          <span id="profileToast" class="toast" role="status" aria-live="polite"></span>
        </div>
      </form>
    </section>

    <section class="panel" id="panel-timeoff" role="tabpanel" aria-labelledby="tab-timeoff" hidden>
      <!-- ——— Time Off Balances (read-only) ——— -->
      <section class="balances" aria-label="Time Off Balances">
        <header class="balances-head">
          <h2 class="balances-title">Time Off Balances</h2>
          <span class="balances-caption">Read-only • Updated from your profile</span>
        </header>

        <div class="balances-table" id="balancesTable">
          <!-- Filled by JS: loadBalances(uid) -->
          <div class="skeleton-row"></div>
          <div class="skeleton-row"></div>
          <div class="skeleton-row"></div>
        </div>
      </section>
      <div class="list">
        <h2 class="list-title">My Requests</h2>
        <ul id="timeoffList" class="cards"></ul>
      </div>
    </section>
  </main>
  <script src="./assets/js/main.js" defer></script>
  <script src="./assets/js/profile.js"></script>
</body>
</html>

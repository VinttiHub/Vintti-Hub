<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Opportunity Details</title>
  <link rel="stylesheet" href="./assets/css/opportunity-detail.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<script src="./assets/js/pipeline.js"></script>
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<body>
  <header class="detail-header">
    <div class="header-left">
      <h1 class="detail-title">Opportunity Detail</h1>
    </div>
    <nav class="detail-nav">
      <ul>
        <li class="nav-item active">Overview</li>
        <li class="nav-item">Job Description</li>
        <li class="nav-item">Pipeline</li>
        <li class="nav-item">Candidates</li>
        <div class="nav-indicator"></div>
      </ul>
    </nav>
  </header>

  <main class="detail-main">
    <section id="overview" class="detail-section">
      <div class="section-header">
        <h2>Overview</h2>
        <p class="section-subtext"> </p>
        <span class="status-pill">Active</span>
      </div>

<div class="overview-card">
  <div class="stage-top">
    <div>
      <label class="section-label">Opportunity ID</label>
      <div class="stage-id">
        <span id="opportunity-id-text" data-id="">—</span>
      </div>
    </div>
    <span class="status-pill blue">Negotiating</span>
  </div>

  <div class="overview-grid">
    <div class="input-group">
      <label>Start Date</label>
      <input type="text" id="start-date-input" value="" />
    </div>
    <div class="input-group">
      <label>Signed</label>
      <div class="info-tag" id="signed-tag">—</div>
    </div>
    <div class="input-group">
      <label>Closed Date</label>
      <input type="text" id="close-date-input" placeholder="Closed Date" />
    </div>
    <div class="input-group">
      <label>Hire</label>
      <select id="hire-select" class="choices-hire"></select>
    </div>
  </div>
</div>

<!-- Client -->
<div class="overview-card">
  <div class="card-title-row">
    <button class="card-toggle">
      <h3>Client</h3>
      <span class="toggle-icon">▾</span>
    </button>
  </div>
  <div class="card-content">
    <div class="overview-grid">
      <div class="input-group"><label>Name</label><input id="client-name-input" value="" readonly/></div>
      <div class="input-group"><label>Size</label>
          <select id="client-size-input">
            <option value="">Select Size...</option>
            <option value="1-10">1-10</option>
            <option value="11-50">11-50</option>
            <option value="51-200">51-200</option>
            <option value="201-500">201-500</option>
            <option value="+500">+500</option>
          </select>
          </div>
      <div class="input-group"><label>State</label><input id="client-state-input" value="" ></div>
      <div class="input-group"><label>Linkedin</label><input id="client-linkedin-input" value="" ></div>
      <div class="input-group"><label>Website</label><input id="client-website-input" value="" ></div>
      <div class="input-group full"><label>Mail</label><input id="client-mail-input" value="" ></div>
      <div class="input-group full"><label>About</label><textarea id="client-about-textarea" ></textarea></div>
    </div>
  </div>
</div>


<!-- Details -->
<div class="overview-card">
  <button class="card-toggle">
    <h3>Details</h3>
    <span class="toggle-icon">▾</span>
  </button>
  <div class="card-content">
    <div class="overview-grid">
      <div class="input-group"><label>Opportunity Name</label><input id="details-opportunity-name" value="" ></div>
      <div class="input-group"><label>Account</label><input id="details-account-name" value="" readonly/></div>
      <div class="input-group"><label>Sales Lead</label><select id="details-sales-lead"><option></option></select></div>
      <div class="input-group"><label>HR Lead</label><select id="details-hr-lead"><option></option></select></div>
      <div class="input-group"><label>Model</label>
        <select id="details-model">
          <option value="Staffing">Staffing</option>
          <option value="Recruiting">Recruiting</option>
        </select>
      </div>
    </div>
  </div>
</div>


<!-- First Meeting -->
<div class="overview-card">
  <button class="card-toggle">
    <h3>First Meeting Information</h3>
    <span class="toggle-icon">▾</span>
  </button>
  <div class="card-content">
    <div class="overview-grid">
      <div class="input-group"><label>Client Budget</label><input value="$1,300" readonly/></div>
      <div class="input-group"><label>&nbsp;</label><input value="$1,500" readonly/></div>
      <div class="input-group"><label>Candidate Salary Range</label><input value="$800" readonly/></div>
      <div class="input-group"><label>&nbsp;</label><input value="$1,000" readonly/></div>
      <div class="input-group"><label>Model</label><select disabled><option>Staffing</option></select></div>
      <div class="input-group"><label>Years of Experience</label><input value="1" readonly/></div>
      <div class="input-group"><label>Set Up Fee</label><input value="2,000" readonly/></div>
      <div class="input-group"><label>Time Zone</label><select disabled><option>Central Standard Time</option></select></div>
      <div class="input-group full"><label>Comments</label><textarea readonly>Add comments here...</textarea></div>
      <div class="input-group full"><label>First Meeting Recording</label><input value="https://tldv.io/app/meetings/67ec260df8d23000130dd853" readonly/></div>
    </div>
  </div>
</div>

<!-- Documents -->
<div class="overview-card">
  <button class="card-toggle">
    <h3>Documents</h3>
    <span class="toggle-icon">▾</span>
  </button>
  <div class="card-content">
    <div class="card-title-row">
      <button class="upload-btn">Upload</button>
    </div>
    <div class="empty-state">
      <p>There are no documents</p>
      <span class="subtext">Documents will be shown here.</span>
    </div>
  </div>
</div>
    </section>
    

    <section id="job" class="detail-section hidden">
      <div class="job-header">
        <div class="job-header-left">
          <h2>Job Description</h2>
          <p class="subtitle">Complete job description for this opportunity.</p>
        </div>
        <div class="job-header-right">
          <button class="header-btn">Send</button>
          <span class="status-pill gray">Not Sent</span>
        </div>
      </div>
  
      <div class="job-card">
        <textarea id="job-description-textarea" readonly style="width: 100%; height: 400px; padding: 10px; font-size: 1rem;"></textarea>
      </div>
    </section>
    
    <section id="pipeline" class="detail-section hidden pipeline-section">
      <div class="pipeline-header">
        <h2>Pipeline</h2>
        <div class="pipeline-actions">
          <button id="createCandidateBtn">+ Create Candidate</button>
          <button id="signOffBtn">Sign off</button>
        </div>
      </div>
    
      <div class="pipeline-columns">
        <!-- Column 1 -->
        <div class="column" data-status="contacted">
          <h3>Contactado</h3>
          <div class="card-container" id="contacted">
            <div class="candidate-card" draggable="true">
              <strong>Julia Benedetti Murin</strong>
              <div class="preview">
                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Julia">
                <div class="info">
                  <span class="name">Julia Benedetti Murin</span>
                  <span class="email">julia.b@nova.co</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Column: No avanza primera -->
        <div class="column" data-status="no-advance">
          <h3>No avanza primera</h3>
          <div class="card-container" id="no-advance">
            <!-- puedes dejarlo vacío por ahora -->
          </div>
        </div>
        <!-- Column 2 -->
        <div class="column" data-status="first-interview">
          <h3>Primera entrevista</h3>
          <div class="card-container" id="first-interview">
            <div class="candidate-card" draggable="true">
              <strong>Fernanda De Castro Schindel</strong>
              <div class="preview">
                <img src="https://randomuser.me/api/portraits/women/45.jpg" alt="Fernanda">
                <div class="info">
                  <span class="name">Fernanda De Castro Schindel</span>
                  <span class="title">Front-End Dev</span>
                  <span class="email">fernanda.c@nova.co</span>
                </div>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Column 3 -->
        <div class="column" data-status="client-process">
          <h3>En proceso con Cliente</h3>
          <div class="card-container" id="client-process">
            <div class="candidate-card" draggable="true">
              <strong>Igor Neves</strong>
              <div class="preview">
                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Igor">
                <div class="info">
                  <span class="name">Igor Neves</span>
                  <span class="title">Fullstack Engineer</span>
                  <span class="email">igor.n@nova.co</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    
    <section id="candidates" class="detail-section fade-in">
      <div class="candidates-header">
        <div>
          <h2>Candidates</h2>
          <p class="subtitle">See the final candidates for this opportunity.</p>
        </div>
        <span class="badge">NDA Signed</span>
      </div>
    
      <div class="batch-table">
        <table>
          <thead>
            <tr>
              <th>Batch #</th>
              <th>Presentation Date</th>
              <th>Time</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>#1</td>
              <td>Apr 8, 2025</td>
              <td>5</td>
              <td><button class="view-btn">View</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    
      <div class="batch-detail" id="batch-detail-container">
        <!-- Aquí se insertarán dinámicamente los batch-box -->
      </div>
      <div class="create-batch-wrap">
        <button class="btn-create">Create new batch</button>
      </div>
    </section>
    
  </main>
  <!-- AI Assistant Button -->
  <div id="ai-assistant-btn" style="display: none;">
    ✨ AI Assistant ✨
  </div>

  <!-- AI Assistant Popup -->
  <div id="ai-assistant-popup" class="ai-popup hidden">
    <div class="ai-popup-content">
      <h2>AI Assistant</h2>
      <label>Intro Call</label>
      <textarea placeholder="00:00 Speaker: Text here..."></textarea>

      <label>Deep Dive Call</label>
      <input type="text" placeholder="2nd_Call_Transcript" />

      <label>Notes / Emails</label>
      <textarea placeholder="Your notes here..."></textarea>

      <label>Files</label>
      <div class="file-upload">
        <input type="file" />
        <div class="upload-icon">☁️⬆️</div>
      </div>

      <button id="ai-assistant-go">Let's Go 🚀</button>
      <button id="ai-assistant-close">Close</button>
    </div>
  </div>
    <!-- ADD Candidate Popup -->
    <div id="candidatePopup" class="popup hidden">
      <div class="popup-content">
        <span class="close-btn" id="closePopup">&times;</span>
        <h2>Add Candidate</h2>
        <input type="text" id="candidate-name" placeholder="Full name" />
        <input type="text" id="candidate-email" placeholder="Email" />
        <input type="text" id="candidate-country" placeholder="Country" />
        <input type="text" id="candidate-phone" placeholder="Phone number" />
        <input type="text" id="candidate-linkedin" placeholder="LinkedIn URL" />
        <input type="text" id="candidate-redflags" placeholder="Red Flags" />
        <input type="text" id="candidate-comments" placeholder="Comments" />
        <select id="candidate-english" placeholder="English Level">
          <option value="">Select English Level</option>
          <option value="Bad">Bad</option>
          <option value="Regular">Regular</option>
          <option value="Good">Good</option>
          <option value="Excellent">Excellent</option>
        </select>
        <input type="number" id="candidate-salary" placeholder="Minimum Salary (USD)" />
        <button id="popupcreateCandidateBtn">Create Candidate</button>
      </div>
    </div>

<!-- Popup para agregar candidato a batch -->
<div id="batchCandidatePopup" class="popup hidden">
  <div class="popup-content">
    <span class="close-btn" id="closeBatchPopup">&times;</span>
    <h2>Select Candidate</h2>
    <input type="text" id="candidateSearchInput" placeholder="Search by name..." />
    <ul id="candidateSearchResults" class="search-results-list"></ul>
  </div>
</div>

<script src="./assets/js/opportunity-detail.js"></script>
</body>
</html>


<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <!--
    Candidate Details ¬∑ Cleaned & Commented
  -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Candidate Details</title>
  <script src="./assets/js/auth-guard.js"></script>

  <!-- Fonts & Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Onest:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/candidate-details.css" />
  <link rel="stylesheet" href="./assets/css/rich-comments.css" />

  <!-- JS for this page lives at the bottom (defer) to avoid blocking -->
</head>

<body>
  <!-- ===== Back / Navigation ===== -->
  <!-- <button id="goBackButton" class="go-back-button" aria-label="Go back">
    <span class="arrow">‚Üê</span>
    <span class="text">Go Back</span>
  </button> -->

  <div class="main-content">
    <!-- ===== AI Action Pill (floating opener) ===== -->
    <!-- Shown/hidden by JS (class .hidden). Keep IDs for JS hooks. -->
    <!-- <div id="ai-action-button" class="pill hidden">
      <span style="font-size: 20px; margin-right: 8px;">‚ú®</span>
      <span>AI Assistant</span>
    </div> -->

    <!-- ===== AI Popup (Fullscreen modal) ===== -->
    <!-- Kept IDs for JS to wire open/close & actions -->
    <div id="ai-popup" class="hidden" role="dialog" aria-modal="true" aria-labelledby="ai-popup-title">
      <button id="ai-close" class="modal-close" aria-label="Close">√ó</button>
      <h2 id="ai-popup-title">‚ú® AI Assistant</h2>

      <!-- LinkedIn note (read-only) -->
      <label>LinkedIn Data</label>
      <div id="ai-linkedin-note" style="
        background:#f5f7fb;
        border:1px dashed #d5dbea;
        color:#222;
        padding:10px 12px;
        border-radius:10px;
        font-size:14px;
      ">
        LinkedIn? VinttiHub covered it. You do you üíÖ
      </div>

      <!-- PDF note (read-only) -->
      <label>PDF Extract</label>
      <div id="ai-pdf-note" style="
        background:#f5f7fb;
        border:1px dashed #d5dbea;
        color:#222;
        padding:10px 12px;
        border-radius:10px;
        font-size:14px;
      ">
        PDF? Already scanned by VinttiHub ü™Ñ
      </div>

      <!-- Free-form comments for the AI flow -->
      <label for="ai-comments">Do you want me to take something into account?</label>
      <textarea id="ai-comments" placeholder="Tell me what you want me to consider..."></textarea>

      <button id="ai-lets-go">‚ú® Let's Go!</button>
    </div>

    <!-- ===== Tabs (Overview / Resume / Opportunities / Hire) ===== -->
    <!-- <div class="tabs" role="tablist" aria-label="Candidate sections">
      <button class="tab active" data-tab="overview" role="tab" aria-selected="true" aria-controls="overview">Overview</button>
      <button class="tab" data-tab="resume" role="tab" aria-controls="resume">Resume</button>
      <button class="tab" data-tab="opportunities" role="tab" aria-controls="opportunities">Opportunities</button>
      <button class="tab" data-tab="hire" role="tab" aria-controls="hire">Hire</button>
    </div> -->

    <div class="header-row">
      <button id="goBackButton" class="go-back-button" aria-label="Go back">
        <span class="arrow">‚Üê</span>
        <span class="text">Go Back</span>
      </button>

      <div class="tabs" role="tablist" aria-label="Candidate sections">
        <button class="tab active" data-tab="overview" role="tab" aria-selected="true" aria-controls="overview">Overview</button>
        <button class="tab" data-tab="resume" role="tab" aria-controls="resume">Resume</button>
        <button class="tab" data-tab="opportunities" role="tab" aria-controls="opportunities">Opportunities</button>
        <button class="tab" data-tab="hire" role="tab" aria-controls="hire">Hire</button>
      </div>
    </div>


    <!-- ===================== OVERVIEW ===================== -->
    <div id="overview" class="tab-content active" role="tabpanel" aria-labelledby="overview">

        <!-- NAME (contenteditable) -->
        <div class="field">
          <label>
            <!-- <img src="/docs/assets/img/user.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;"> -->
        
          </label>
          <div id="field-name" contenteditable="true">‚Äî</div>
        </div>

        <div class="overview-layout">

        <div class="grid">

          <!-- COUNTRY (select + flag chip) -->
          <div class="field">
            <label style="display:flex; align-items:center; gap:8px;">
              <!-- NOTE: This SVG is a placeholder in source; leave as-is to avoid breaking hooks -->
              <img src="assets/img/earth-location.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">

              <span>Country</span>
              <span id="country-flag" class="country-flag"></span>
            </label>
            <select id="field-country">
              <option value="">‚Äî</option>
              <option value="Argentina">Argentina</option>
              <option value="Bolivia">Bolivia</option>
              <option value="Brazil">Brazil</option>
              <option value="Chile">Chile</option>
              <option value="Colombia">Colombia</option>
              <option value="Costa Rica">Costa Rica</option>
              <option value="Cuba">Cuba</option>
              <option value="Dominican Republic">Dominican Republic</option>
              <option value="Ecuador">Ecuador</option>
              <option value="El Salvador">El Salvador</option>
              <option value="Guatemala">Guatemala</option>
              <option value="Honduras">Honduras</option>
              <option value="Mexico">Mexico</option>
              <option value="United States">United States</option>
              <option value="Canada">Canada</option>
              <option value="Nicaragua">Nicaragua</option>
              <option value="Panama">Panama</option>
              <option value="Paraguay">Paraguay</option>
              <option value="Peru">Peru</option>
              <option value="Uruguay">Uruguay</option>
              <option value="Venezuela">Venezuela</option>
            </select>
          </div>
          <div class="field hidden" id="us-state-field">
            <label for="us-state-input">State (USA)</label>
            <input type="text" id="us-state-input" list="us-states-list" placeholder="Type to search state‚Ä¶" autocomplete="off" />
            <datalist id="us-states-list"></datalist>
          </div>

          <!-- PHONE (contenteditable) -->
          <div class="field" id="phone-field">
            <label style="display:flex; align-items:center; justify-content:space-between;">
              <span style="display:flex; align-items:center; gap:8px;">
                <img src="assets/img/telephone.png" alt="Phone" style="width:16px; height:16px; object-fit:contain;">

                Phone number
              </span>

              <!-- SIN display:none -->
              <button id="wa-btn-overview" class="icon-button whatsapp" type="button" title="Open WhatsApp">
                <img src="assets/img/whatsapp.png" alt="Phone" style="width:28px; height:28px; object-fit:contain;">
              </button>
            </label>

            <div id="field-phone" class="editable-pill" contenteditable="true">‚Äî</div>
          </div>

          <!-- EMAIL (contenteditable) -->
          <div class="field">
            <label>
              <img src="assets/img/mail.png" alt="Phone" style="width:16px; height:16px; object-fit:contain;">
              Email
            </label>
            <div id="field-email" contenteditable="true">‚Äî</div>
          </div>

          <!-- LINKEDIN (editable link + external open button) -->
          <div class="field">
            <label style="display:flex; align-items:center; justify-content:space-between;">
              <img src="assets/img/linkedin copy.png" alt="Phone" style="width:16px; height:16px; object-fit:contain;">
              <span>LinkedIn</span>
              <!-- href is set by JS; keep blank but add rel for security when target=_blank -->
              <a id="linkedin-open-btn" class="linkedin-link" title="Open in new tab" target="_blank" rel="noopener noreferrer">
                <img src="assets/img/external-link.png" alt="Phone" style="width:18px; height:18px; object-fit:contain;">
              </a>
            </label>
            <div id="field-linkedin" contenteditable="true" style="word-break: break-all;">‚Äî</div>
          </div>

          <!-- BLACKLIST (checkbox) -->
          <div class="field blacklist-card" id="blacklist-card">
            <label class="pretty-check" style="align-items:flex-start;">
              <input type="checkbox" id="blacklist-toggle" />
              <span class="box" aria-hidden="true"></span>
              <span class="txt">
                <span class="blacklist-card-title">Blacklist (dangerous)</span>
                <span class="blacklist-card-description u-muted">
                  Keep risky candidates hidden from searches.
                </span>
              </span>
            </label>
            <small class="u-muted" id="blacklist-status-text" style="display:none; margin-top:6px;"></small>
          </div>

          <!-- ENGLISH LEVEL (select) -->
          <div class="field">
            <label>
              <img src="assets/img/language.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">
              English Level
            </label>
            <select id="field-english-level">
              <option value="">‚Äî</option>
              <option value="Poor">Poor</option>
              <option value="Regular">Regular</option>
              <option value="Good">Good</option>
              <option value="Very Good">Very Good</option>
              <option value="Excellent">Excellent</option>
            </select>
          </div>

          <!-- MIN SALARY (contenteditable) -->
          <div class="field">
            <label>
              <img src="assets/img/dollar.png" alt="Phone" style="width:17px; height:17px; object-fit:contain;">
              Min Salary
            </label>
            <div id="field-salary-range" contenteditable="true">‚Äî</div>
          </div>

          <!-- CREATED BY / CREATED AT (read-only text) -->
          <div class="field">
            <label>
              <img src="assets/img/edit.png" alt="Phone" style="width:15px; height:15px; object-fit:contain;">
              Created by
            </label>
            <div id="field-created-by">‚Äî</div>
          </div>

          <div class="field">
            <label>
              <img src="assets/img/calendar.png" alt="Phone" style="width:16px; height:16px; object-fit:contain;">
              Created at
            </label>
            <div id="field-created-at">‚Äî</div>
          </div>


          <!-- RED FLAGS & COMMENTS (textareas) -->
          <div class="field-group">
            <div class="field textarea red-flag">
              <label for="redFlags">
                <img src="assets/img/flag.png" alt="Phone" style="width:14px; height:14px; object-fit:contain;">
                Red Flags
              </label>
              <textarea id="redFlags" placeholder="No red flags"></textarea>
            </div>

            <div class="field textarea comments">
              <label for="comments">
                <img src="assets/img/comment.png" alt="Phone" style="width:14px; height:14px; object-fit:contain;">
                Comments
              </label>
              <textarea id="comments" placeholder="No comments"></textarea>
            </div>
          </div>

          <div class="field-group">
            <div class="field textarea attention-field">
              <label for="other-process">Other process</label>
              <textarea id="other-process" placeholder="‚Äî"></textarea>
            </div>
            <div class="field textarea attention-field">
              <label for="vacations">Vacation</label>
              <textarea id="vacations" placeholder="‚Äî"></textarea>
            </div>
            <div class="field attention-field">
              <label class="pretty-check">
                <input type="checkbox" id="usa-nationality" />
                <span class="box" aria-hidden="true"></span>
                <span class="txt">US national</span>
              </label>
            </div>
          </div>

          <!-- CANDIDATE SUCCESS (rich toolbar + contenteditable) -->
          <div class="field textarea">
            <label>
              <img src="assets/img/success.png" alt="Phone" style="width:16px; height:16px; object-fit:contain;">
              Candidate success
            </label>
            <div class="rich-toolbar" id="candidate-succes-toolbar">
              <button type="button" data-target="candidate-succes" data-command="bold"><b>B</b></button>
              <button type="button" data-target="candidate-succes" data-command="italic"><i>I</i></button>
              <button type="button" data-target="candidate-succes" data-command="insertUnorderedList">‚Ä¢ List</button>
            </div>
            <div id="candidate-succes" class="rich-input" contenteditable="true" placeholder="Write success highlights, achievements, notes..."></div>
          </div>

          

        </div>


        <aside class="sidebar">
          <!-- ===== Documents row: CV + Resignation Letter ===== -->
          <!-- CV / Resume (drag & drop + list) -->
          <div class="field doc-card" id="cv-card">
            <label class="doc-card-label">
              <span>Candidate CV</span>
              <button id="cv-refresh" class="btn-soft btn-sm" type="button" title="Refresh">
                <span class="btn-icon" aria-hidden="true">‚Üª</span><span class="btn-text">Refresh</span>
              </button>
            </label>

            <div class="value two-by-two">
              <div id="cv-drop" class="cv-drop" tabindex="0" style="grid-column: 1 / -1;">
                <input id="cv-input" type="file" accept=".pdf,image/*" hidden />
                <div class="cv-cta">
                  Drop a CV here, or
                  <button id="cv-browse" type="button" class="btn-soft btn-sm">Browse</button>
                </div>
                <div class="cv-hint">Only PDF is allowed</div>
              </div>

              <div id="cv-list" class="cv-list" style="grid-column: 1 / -1;"></div>
            </div>
          </div>

          <!-- Resignation Letter (drag & drop + list) -->
          <div class="field doc-card" id="resig-card">
            <label class="doc-card-label">
              <span>Resignation Letter</span>
              <button id="resig-refresh" class="btn-soft btn-sm" type="button" title="Refresh">
                <span class="btn-icon" aria-hidden="true">‚Üª</span><span class="btn-text">Refresh</span>
              </button>
            </label>

            <div class="value two-by-two">
              <div id="resig-drop" class="cv-drop" tabindex="0" style="grid-column: 1 / -1;">
                <input id="resig-input" type="file" accept=".pdf" hidden />
                <div class="cv-cta">
                  Drop a PDF here, or
                  <button id="resig-browse" type="button" class="btn-soft btn-sm">Browse</button>
                </div>
                <div class="cv-hint">Only PDF is allowed</div>
              </div>

              <div id="resig-list" class="cv-list" style="grid-column: 1 / -1;"></div>
            </div>
          </div>

          <!-- Tests card -->
          <div class="field doc-card" id="tests-card">
            <label class="doc-card-label">
              <span>Tests</span>
              <div class="tests-controls">
                <button id="tests-refresh" class="btn-soft btn-sm" type="button" title="Refresh">
                  <span class="btn-icon" aria-hidden="true">‚Üª</span><span class="btn-text">Refresh</span>
                </button>
                <button id="tests-browse" class="btn-soft btn-sm" type="button" title="Upload files">
                  <span class="btn-icon" aria-hidden="true">‚¨Ü</span><span class="btn-text">Upload</span>
                </button>
              </div>
            </label>

            <div id="tests-drop" class="cv-drop tests-drop" tabindex="0">
              <input id="tests-input" type="file" multiple hidden />
              <div class="cv-cta">
                Drop PDF, Excel, CSV, images or any files here
              </div>
              <div class="cv-hint">Or click Upload to select multiple documents.</div>
            </div>
            <p id="tests-error" class="tests-error" role="alert"></p>
            <div id="tests-list" class="tests-list"></div>
          </div>
        

          <!-- === Resignation Letter & References (full width) === -->
          <div class="field full doc-check cute" id="resig-ref-block">
            <div class="doc-check__head">
              <span class="doc-check__emoji">üìé‚ú®</span>
              <div class="doc-check__titlewrap">
                <span class="doc-check__title">Resignation letter & references</span>
              </div>
            </div>

            <div class="check-row">
              <label class="pretty-check">
                <input type="checkbox" id="resig-ref-check" />
                <span class="box" aria-hidden="true"></span>
                <span class="txt">
                  All set! I requested and uploaded both items.
                </span>
              </label>
            </div>
          </div>

          <!-- Toast contenedor (si no tienes ya uno global) -->
          <div id="cuteToast" class="cute-toast" role="status" aria-live="polite"></div>

          <div class="field" id="equipments-card">
            <!-- EQUIPMENTS (chips + external details link) -->
            <div class="field">
              <label style="display:flex; align-items:center; justify-content:space-between;">
                <span>
                  Equipments
                  <a id="equipments-details-link" class="pill pill-link" href="#" target="_blank" rel="noopener">Details ‚Üí</a>                
                </span>
                
              </label>
              <div id="equipments-chips" class="chips-row">‚Äî</div>
            </div>
          </div>
          <div class="field" id="own-computer-card">
            <label class="toggle-row" for="own-computer-toggle">
              <span class="toggle-label">Own computer</span>
              <span class="toggle-control">
                <input type="checkbox" id="own-computer-toggle" role="switch" />
                <span class="toggle-track" aria-hidden="true"></span>
              </span>
            </label>
            <div class="toggle-helper">Personal laptop or desktop available.</div>
          </div>
        </aside>
      </div>
    </div>

    <!-- ===================== RESUME ===================== -->
     <div class="header-buttons-row">
      <a id="client-version-btn" class="pill" target="_blank" rel="noopener">
        üìÑ Client Version
      </a>

      <button id="ai-action-button" class="pill" type="button">
        ‚ú® AI Assistant
      </button>
    </div>
    <div id="resume" class="tab-content" role="tabpanel" aria-labelledby="resume">
      <div class="cv-container">
        <!-- About -->
        <section class="cv-section">
          <div class="cv-heading-wrapper">
            <h2 class="cv-heading" data-icon="üß†">About</h2>
            <button class="star-button" id="about-star-button" data-target="popup-about" title="Add comment">
              <img src="assets/img/ai-technology.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">
            </button>
          </div>
          <div class="cv-card">
            <p id="aboutField">Click here to edit your About section.</p>
          </div>
        </section>

        <!-- Work Experience -->
        <section class="cv-section" id="workExperienceSection">
          <div class="cv-heading-wrapper">
            <h2 class="cv-heading" data-icon="üíº">Work Experience</h2>
            <button class="star-button" data-target="popup-work" title="Add comment">
              <img src="assets/img/ai-technology.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">
            </button>
          </div>
          <div id="workExperienceList"></div>
          <button id="addWorkExperienceBtn">Add Work Experience</button>
        </section>

        <!-- Education -->
        <section class="cv-section" id="educationSection">
          <div class="cv-heading-wrapper">
            <h2 class="cv-heading" data-icon="üéì">Education</h2>
            <button class="star-button" data-target="popup-education" title="Add comment">
              <img src="assets/img/ai-technology.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">
            </button>
          </div>
          <div id="educationList"></div>
          <button id="addEducationBtn">Add Education</button>
        </section>

        <!-- Tools -->
        <section class="cv-section" id="toolsSection">
          <div class="cv-heading-wrapper">
            <h2 class="cv-heading" data-icon="üõ†Ô∏è">Tools</h2>
            <button class="star-button" data-target="popup-about" title="Add comment">
              <img src="assets/img/ai-technology.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">
            </button>
          </div>
          <div class="cv-card" id="toolsList"></div>
          <button id="addToolBtn">Add Tool</button>
        </section>

        <!-- Languages -->
        <section class="cv-section" id="languagesSection">
          <div class="cv-heading-wrapper">
            <h2 class="cv-heading" data-icon="üåê">Languages</h2>
            <button class="star-button" data-target="popup-about" title="Add comment">
              <img src="assets/img/ai-technology.png" alt="Phone" style="width:20px; height:20px; object-fit:contain;">
            </button>
          </div>
          <div class="cv-card" id="languagesList"></div>
          <button id="addLanguageBtn">Add Language</button>
        </section>

        <!-- Video Link (rich toolbar + contenteditable) -->
        <section class="cv-section">
          <h2 class="cv-heading" data-icon="üìπ">Video Link</h2>
          <div class="cv-card">
            <div class="rich-toolbar" id="video-toolbar">
              <button type="button" data-target="videoLinkInput" data-command="bold"><b>B</b></button>
              <button type="button" data-target="videoLinkInput" data-command="italic"><i>I</i></button>
              <button type="button" data-target="videoLinkInput" data-command="insertUnorderedList">‚Ä¢ List</button>
            </div>
            <div id="videoLinkInput" class="rich-input" contenteditable="true" placeholder="Paste video link or notes..."></div>
          </div>
        </section>
      </div>
    </div>

    <!-- Client Read-only view (URL updated by JS) -->
    <!-- <a id="client-version-btn" class="pill hidden" target="_blank" rel="noopener" href="resume-readonly.html?id=123">üìÑ Client Version</a> -->

    <!-- ===================== OPPORTUNITIES ===================== -->
    <div id="opportunities" class="tab-content" role="tabpanel" aria-labelledby="opportunities">
      <table id="opportunitiesTable">
        <thead>
          <tr>
            <th>Opportunity ID</th>
            <th>Model</th>
            <th>Position</th>
            <th>Sales Lead</th>
            <th>Stage</th>
            <th>Account</th>
            <th>HR Lead</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- ===================== HIRE ===================== -->
    <div id="hire" class="tab-content" role="tabpanel" aria-labelledby="hire">
      <div class="grid">
        <!-- Model pill (text updated by JS) -->
        <div id="opp-model-pill" class="pill">Model: ‚Äî</div>

        <!-- Hire financials & terms -->
        <div class="field">
          <label for="hire-salary">Salary</label>
          <input type="number" id="hire-salary" />
        </div>

        <div class="field">
          <label for="hire-fee">Fee</label>
          <input type="number" id="hire-fee" />
        </div>

        <!-- Set up Fee (staffing only; visibility handled by JS) -->
        <div class="field" id="setup-fee-field">
          <label for="hire-setup-fee">Set up Fee</label>
          <input type="number" id="hire-setup-fee" />
        </div>

        <div class="field">
          <label for="hire-revenue">Revenue</label>
          <input type="number" id="hire-revenue" />
        </div>

        <div class="field">
          <label for="hire-computer">Computer</label>
          <select id="hire-computer">
            <option value="">‚Äî</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>

        <div class="field">
          <label for="hire-working-schedule">Working Schedule</label>
          <input type="text" id="hire-working-schedule" />
        </div>

        <div class="field">
          <label for="hire-pto">PTO</label>
          <input type="text" id="hire-pto" />
        </div>
        <!-- ADDRESS -->
        <div class="field">
          <label for="hire-address">Address</label>
          <input type="text" id="hire-address" placeholder="Candidate address" />
        </div>

        <!-- DNI -->
        <div class="field">
          <label for="hire-dni">DNI</label>
          <input type="number" id="hire-dni" placeholder="Document number" />
        </div>

        <!-- Date pickers (month-year widgets mounted by JS) -->
        <div class="field">
          <label>Start Date</label>
          <div id="hire-start-picker" class="month-year"></div>
        </div>

        <div class="field">
          <label>End Date</label>
          <div id="hire-end-picker" class="month-year"></div>
        </div>

        <!-- ===== Internal Follow-ups (Reminders) ===== -->
        <div class="field reminders-card">
          <label>Internal follow-ups</label>

          <div class="reminders-body">
            <ul class="reminders-list">
              <li>
                <label class="rem-chk">
                  <input type="checkbox" id="rem-lara" />
                  <span class="rem-box"></span>
                  <span class="rem-name">Lara</span>
                </label>
                <div class="rem-countdown" id="cd-lar">‚Äî</div>
                <div class="rem-msg" id="msg-lar"></div>
              </li>

              <li>
                <label class="rem-chk">
                  <input type="checkbox" id="rem-jazmin" />
                  <span class="rem-box"></span>
                  <span class="rem-name">Jazmin</span>
                </label>
                <div class="rem-countdown" id="cd-jaz">‚Äî</div>
                <div class="rem-msg" id="msg-jaz"></div>
              </li>

              <li>
                <label class="rem-chk">
                  <input type="checkbox" id="rem-agustin" />
                  <span class="rem-box"></span>
                  <span class="rem-name">Agustin</span>
                </label>
                <div class="rem-countdown" id="cd-agus">‚Äî</div>
                <div class="rem-msg" id="msg-agus"></div>
              </li>
            </ul>

            <button id="btn-send-reminders" type="button" class="btn-blue">
              Information Complete ‚Äî Send Reminders
            </button>
          </div>
        </div>

        <!-- References (rich input) -->
        <div class="field textarea">
          <label>References</label>
          <div class="rich-toolbar">
            <button type="button" data-command="bold"><b>B</b></button>
            <button type="button" data-command="italic"><i>I</i></button>
            <button type="button" data-command="insertUnorderedList">‚Ä¢ List</button>
          </div>
          <div id="hire-references" class="rich-input" contenteditable="true" placeholder="Enter references here..."></div>
        </div>

        <!-- Extra Perks (rich input) -->
        <div class="field textarea">
          <label>Extra Perks</label>
          <div class="rich-toolbar" id="extraperks-toolbar">
            <button type="button" data-target="hire-extraperks" data-command="bold"><b>B</b></button>
            <button type="button" data-target="hire-extraperks" data-command="italic"><i>I</i></button>
            <button type="button" data-target="hire-extraperks" data-command="insertUnorderedList">‚Ä¢ List</button>
          </div>
          <div id="hire-extraperks" class="rich-input" contenteditable="true" placeholder="Extra perks..."></div>
        </div>

        <!-- ===== Salary Updates ===== -->
        <section class="cv-section full-width-salary-updates">
          <h2 class="cv-heading">Salary Updates</h2>
          <div id="salary-updates-box" class="cv-card">
            <!-- Fetched salary updates will appear here -->
          </div>
          <button id="add-salary-update">New Update</button>
        </section>

        <!-- Salary Update Popup -->
        <div id="salary-update-popup" class="popup hidden" role="dialog" aria-modal="true" aria-labelledby="salary-update-title">
          <h3 id="salary-update-title">New Salary Update</h3>
          <button id="close-salary-update" class="modal-close" aria-label="Close">√ó</button>

          <label for="update-salary">Salary ($)</label>
          <input type="number" id="update-salary" placeholder="$" />

          <label for="update-fee">Fee ($)</label>
          <input type="number" id="update-fee" placeholder="$" />

          <label for="update-date">Date</label>
          <input type="date" id="update-date" />

          <button id="save-salary-update">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== STAR POPUPS (AI prompts) ===================== -->
  <div id="popup-about" class="star-popup hidden" role="dialog" aria-modal="true" aria-labelledby="popup-about-title">
    <button class="close-star-popup" aria-label="Close">‚úñ</button>
    <h3 id="popup-about-title">About Prompt</h3>
    <p class="reminder">Remember: I already have this candidate's info from LinkedIn and the PDF.</p>
    <textarea placeholder="What would you like to improve in this section?"></textarea>
    <button class="generate-btn">Generate</button>
  </div>

  <div id="popup-education" class="star-popup hidden" role="dialog" aria-modal="true" aria-labelledby="popup-education-title">
    <button class="close-star-popup" aria-label="Close">‚úñ</button>
    <h3 id="popup-education-title">Education Prompt</h3>
    <p class="reminder">Remember: I already have this candidate's info from LinkedIn and the PDF.</p>
    <textarea placeholder="What would you like to improve in this section?"></textarea>
    <button class="generate-btn">Generate</button>
  </div>

  <div id="popup-work" class="star-popup hidden" role="dialog" aria-modal="true" aria-labelledby="popup-work-title">
    <button class="close-star-popup" aria-label="Close">‚úñ</button>
    <h3 id="popup-work-title">Work Experience Prompt</h3>
    <p class="reminder">Remember: I already have this candidate's info from LinkedIn and the PDF.</p>
    <textarea placeholder="What would you like to improve in this section?"></textarea>
    <button class="generate-btn">Generate</button>
  </div>

  <div id="popup-tools" class="star-popup hidden" role="dialog" aria-modal="true" aria-labelledby="popup-tools-title">
    <button class="close-star-popup" aria-label="Close">‚úñ</button>
    <h3 id="popup-tools-title">Tools Prompt</h3>
    <p class="reminder">Remember: I already have this candidate's info from LinkedIn and the PDF.</p>
    <textarea placeholder="What would you like to improve in this section?"></textarea>
    <button class="generate-btn">Generate</button>
  </div>

  <!-- ===================== Loaders ===================== -->
  <div id="about-loader" class="ai-loader hidden" aria-live="polite">
    <span>Improving About...</span><span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>
  </div>

  <div id="work-loader" class="ai-loader hidden" aria-live="polite">
    <span>Improving Work Experience section, please wait</span><span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>
  </div>

  <div id="tools-loader" class="ai-loader hidden" aria-live="polite">
    <span>Improving Tools section, please wait</span><span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>
  </div>

  <div id="resume-loader" class="resume-loader hidden" aria-live="polite">
    <div class="resume-loader-box">
      <div class="resume-loader-title">‚ú® Please wait</div>
      <div id="resume-loader-phrase" class="resume-loader-phrase">Las chicas lindas saben esperar</div>
      <div class="resume-loader-dots"><span>.</span><span>.</span><span>.</span></div>
    </div>
  </div>

  <!-- ===================== Scripts ===================== -->
  <script defer src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script defer src="./assets/js/rich-comment-box.js"></script>
  <script defer src="./assets/js/resume.js"></script>
  <script defer src="./assets/js/inactive-info-dialog.js"></script>
  <script defer src="./assets/js/candidate-details.js"></script>
</body>
</html>
<script>
  (function(){
    const check = document.getElementById('resig-ref-check');
    const toast = document.getElementById('cuteToast');
    if (!check || !toast) return;
    check.addEventListener('change', () => {
      if (!check.checked) return;
      toast.innerHTML =         
        `Task completed<br/>
         You‚Äôre the cutest recruiter ever üíñ‚ú®`;
      toast.classList.add('show');
      setTimeout(()=> toast.classList.remove('show'), 5000);
    });
  })();
</script>

:root{
  --glass-bg: rgba(255,255,255,.65);
  --glass-brd: rgba(110, 123, 247, .18);
  --ink: #0a1f44;
  --muted: #5c6a86;

  /* verdes "finanzas" */
  --money-1:#eafff2;
  --money-2:#16a34a;
  --money-3:#0c7a36;

  /* acentos suaves */
  --acc-1:#7c3aed;
  --acc-2:#6366f1;

  /* tabla */
  --thead-bg:#f7f7fb;
  --row-alt:#fafbff;
  --total-bg:#f2f7ff;
}

*{box-sizing:border-box}
html,body{height:100%;}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
  color: var(--ink);
  background: radial-gradient(1200px 800px at 10% -10%, #f6f1ff 0%, #ffffff 55%) fixed;
}

.page{max-width:1200px; margin:0 auto; padding:28px 20px 60px;}

/* ——— Topbar: título centrado con degradé ——— */
.topbar{
  position: sticky; top:0; z-index: 5;
  display:grid; grid-template-columns: 1fr auto 1fr; align-items:center;
  padding:16px 0;                  /* menos padding */
  margin:0 0 24px;                 /* ya sin márgenes negativos */
  background: transparent;         /* <— sin fondo blanco */
  backdrop-filter: none;           /* <— sin blur lechoso */
  border-bottom: none;             /* <— sin línea inferior */
}
.topbar h1{
  margin:0; 
  justify-self:center; 
  text-align:center;
  font-size:2.4rem;                 /* antes 1.75rem */
  font-weight:800; 
  letter-spacing:.2px;
  background: linear-gradient(90deg, #6d28d9, #6366f1, #22c55e);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.topbar .spacer{width:100%; height:1px; visibility:hidden;} /* para centrar */
.btn-refresh{
  justify-self:end;
  background:#fff; border:1px solid #e8e6ff; border-radius:14px; padding:10px 14px;
  font-weight:600; cursor:pointer; transition: transform .15s ease, box-shadow .2s ease;
  box-shadow: 0 6px 18px rgba(124,58,237,.08);
}
.btn-refresh:hover{ transform: translateY(-1px); box-shadow: 0 10px 22px rgba(124,58,237,.14);}

.content{ display:grid; grid-template-columns: 1fr; gap:22px; }
.card{
  border:1px solid var(--glass-brd);
  background: var(--glass-bg);
  backdrop-filter: blur(8px);
  border-radius: 22px;
  box-shadow: 0 20px 60px rgba(15,23,42,.08);
  overflow:hidden;
}
.card-head{
  display:flex; justify-content:space-between; align-items:end;
  padding:18px 20px 8px;
  border-bottom:1px dashed #e8e6ff;
}
.card-head h2{ margin:0 0 6px; font-size:1.15rem; font-weight:800;}
.muted{ color: var(--muted); font-size:.92rem }

.table-wrap{ padding:16px 20px 22px; overflow:auto; }
.v-table{ width:100%; border-collapse:separate; border-spacing:0; min-width:680px; }
/* Encabezado tabla */
.v-table thead th{
  padding:14px 16px;
  font-weight:800;
  background: var(--thead-bg);
  border-bottom:1px solid #eaecff;
  position:sticky; top:0; z-index:1;
  text-align:center;                /* centrado */
}

/* Primera columna fija también centrada */
.v-table th.sticky-col{
  position:sticky; left:0; z-index:2;
  background: var(--thead-bg);
  border-right:1px solid #eaecff;
  text-align:center;                /* antes estaba a la izquierda */
}

/* Celdas: todo centrado, sin hover */
.v-table td, .v-table th.row-head { 
  padding:14px 16px; 
  font-weight:600; 
  text-align:center; 
}

/* Quitar zebra */
.v-table tbody tr:nth-child(odd){ background: transparent; }

/* Fila total y columna total, con look más limpio */
.v-table .total-col{ 
  background: var(--total-bg);
  font-weight:800;
}
.v-table tfoot .row-total th,
.v-table tfoot .row-total td{ 
  border-top:2px solid #dde6ff; 
  background: linear-gradient(180deg, #fafcff, #f3f7ff);
}

/* Sin hover en celdas */
.cell{ border-radius:12px; }

/* ===== MONEY CARD ===== */
.money-head{ display:flex; gap:16px; align-items:center; }
.money{ background:
  radial-gradient(600px 260px at 10% -60%, var(--money-1), transparent 60%),
  var(--glass-bg);
}
.money-grid{
  display:grid; grid-template-columns: repeat(2, minmax(220px, 1fr)); gap:16px;
  padding:20px;
}
.kpi{
  border:1px solid #e6f4ea; background:#fbfffd; border-radius:18px; padding:18px 16px;
  box-shadow: 0 14px 36px rgba(16,185,129,.10);
  position:relative; overflow:hidden;
}
.kpi::before{
  content:''; position:absolute; inset:-40px -60px auto auto; height:160px; width:160px;
  background: conic-gradient(from 160deg, #dcfce7, #86efac, #bbf7d0, #dcfce7);
  filter: blur(24px); opacity:.35; border-radius: 50%;
}
.kpi-label{ color:#0b5f2b; font-weight:700; letter-spacing:.2px; margin-bottom:6px;}
.kpi-value{ font-size:2rem; font-weight:800; color:var(--money-2); }
.money-visual { position: relative; width: 170px; height: 90px; display:flex; align-items:center; }
.money-gif { max-height: 80px; width: auto; display:block; filter: drop-shadow(0 8px 18px rgba(16,185,129,.18)); }
/* ——— Encabezado tabla, más limpio ——— */
.card-head h2{
  margin:0;
  font-size:1.06rem;
  font-weight:800;
  letter-spacing:.2px;
}
.card-head .muted{
  margin-left:auto;
  font-size:.9rem;
}

/* ——— Tabla “glass cards” ——— */
.table-wrap{ padding:18px 20px 24px; }
.v-table{
  width:100%;
  border-collapse:separate;
  border-spacing: 0 10px;            /* separa filas como cards */
  min-width:680px;
}

/* Header */
.v-table thead th{
  padding:12px 14px;
  font-weight:800;
  background: transparent;           /* sin bloque pesado */
  border:0;
  text-align:center;
  color:#2a2f45;
}

/* Primera columna sticky, con chip */
.v-table th.sticky-col{
  position: sticky; left: 0; z-index: 2;
  background: transparent;
  border: 0;
  text-align: left;                  /* texto a la izq. pero lo “chip” da coherencia */
  padding-left: 8px;
}
.v-table .row-head{
  font-weight:800;
}
.v-table .row-head::before{
  content: attr(data-label);
}
.v-table tbody .row-head{
  display:inline-block;
  padding:8px 12px;
  background: #f5f6ff;
  border:1px solid #e5e8ff;
  border-radius: 999px;
  box-shadow: 0 4px 12px rgba(99,102,241,.06) inset;
}

/* Celdas como pills */
.v-table tbody td,
.v-table tfoot th,
.v-table tfoot td{
  text-align:center;
  padding:0;                          /* el padding lo ponemos en .pill */
  border:0;
}
.v-table tbody tr > *:not(.sticky-col){
  /* crea “cards” por fila: borde suave + sombra */
  background: transparent;
}

/* Píldora base */
.v-table .pill{
  display:inline-block;
  min-width: 78px;
  padding:10px 14px;
  font-weight:700;
  border-radius: 14px;
  background: linear-gradient(180deg, #fff, #f7f9ff);
  border: 1px solid #e8ebff;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.7),
    0 6px 16px rgba(15,23,42,.06);
}

/* Variantes por columna */
.v-table td[data-key="new"] .pill{
  background: linear-gradient(180deg, #f9fbff, #f1f5ff);
  border-color:#e3e8ff;
}
.v-table td[data-key="replacement"] .pill{
  background: linear-gradient(180deg, #f8fffb, #eefcf4);
  border-color:#dff3e6;
}

/* Total: acento */
.v-table .total-col .pill{
  background: linear-gradient(180deg, #f0f5ff, #e8f1ff);
  border-color:#d9e7ff;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.8),
    0 8px 20px rgba(99,102,241,.12);
}

/* Tfoot total general */
.v-table tfoot .row-total th.sticky-col{
  background: transparent;
}
.v-table tfoot .row-total .pill{
  background: linear-gradient(180deg, #f6f9ff, #ecf2ff);
  border-color:#dbe6ff;
  font-size:1rem;
}

/* Ajuste de alto de fila para que se vean como tarjetas separadas */
.v-table tbody tr,
.v-table tfoot tr{
  height: 56px;
}

/* ——— Adaptar celdas existentes a .pill sin tocar HTML ——— */
.v-table tbody td,
.v-table tfoot td,
.v-table tfoot th:not(.sticky-col){
  /* envolvemos el contenido en una pill via pseudo-element? mejor con JS, pero podemos usar display grid */
  display:grid; place-items:center;
}
.v-table tbody td > *,
.v-table tfoot td > *,
.v-table tfoot th:not(.sticky-col) > *{ pointer-events:none; }

/* ——— GIF en círculo ——— */
.gif-circle{
  width: 86px; height: 86px;
  border-radius: 999px;
  overflow: hidden;
  background: #fff;
  border: 1px solid rgba(22,163,74,.18);
  box-shadow:
    0 8px 24px rgba(16,185,129,.18),
    inset 0 1px 0 rgba(255,255,255,.8);
  display:flex; align-items:center; justify-content:center;
}
.money-gif{
  width:100%; height:100%;
  object-fit: cover;                 /* mantiene el círculo aunque el GIF sea rectangular */
  display:block;
  filter:none;                       /* ya no necesitamos drop-shadow aquí */
}
